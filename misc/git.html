<!DOCTYPE html>
<html lang="de">
    <head>
        <meta charset="utf-8">
        <title>Oliver Braun - Versionskontrolle mit Git über SSH</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Website Prof. Dr. Oliver Braun">
        <meta name="author" content="Oliver Braun">
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/bootstrap-responsive.min.css" rel="stylesheet">
        <link href="../css/glyphicons.css" rel="stylesheet">
        <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,300" rel="stylesheet" type="text/css">
        <link href="../css/base.css" rel="stylesheet">
        <link href="../css/blue.css" rel="stylesheet">
        <!--[if lt IE 9]>
          <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
        <link rel="shortcut icon" href="../img/ico/favicon.ico">
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../img/ico/favicon.ico">
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../img/ico/favicon.ico">
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../img/ico/favicon.ico">
        <link rel="apple-touch-icon-precomposed" href="../img/ico/favicon.ico">
    </head>
    <body>
<!-- Navigation start -->
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-primary btn-dropnav" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../">ob.cs.hm.edu</a>
          <div class="nav-collapse collapse">
            <ul class="nav pull-right animated">
              <li class="dropdown">
                <a class="dropdown-toggle" data-toggle="dropdown" role="button" href="../lectures">Lehrveranstaltungen <b class="caret"></b></a>
                <ul class="dropdown-menu" role="menu">
                  <li><a href="../lectures/algdat.html" tabindex="-1">Algorithmen und Datenstrukturen I</a></li>
                  <li><a href="../lectures/compiler.html" tabindex="-1">Compiler</a></li>
                  <li><a href="../lectures/fun.html" tabindex="-1">Funktionale Programmierung</a></li>
                  <li><a href="../lectures/sa.html" tabindex="-1">Software-Architektur</a></li>
                  <li><a href="../lectures/seiib.html" tabindex="-1">Softwareentwicklung I (IB)</a></li>
                  <li><a href="../lectures/seiiib.html" tabindex="-1">Softwareentwicklung II (IB)</a></li>
                  <li><a href="../lectures/swengiib.html" tabindex="-1">Software Engineering I (IB)</a></li>
                  <li><a href="../lectures/swengiiib.html" tabindex="-1">Software Engineering II (IB)</a></li>
                  <li><a href="../lectures/webtech.html" tabindex="-1">Web-Techniken</a></li>
                  <li><a href="../lectures/webtechFK12.html" tabindex="-1">Web-Techniken (mit FK12)</a></li>
                </ul>
              </li>
              <li><a href="../misc/theses.html">Abschlussarbeiten</a></li>
              <li><a href="https://terraform.cs.hm.edu/jenkins/">Jenkins</a></li>
              <li><a href="../about.html">Oliver Braun</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
<!-- Navigation end -->

        <div id="landing">
          <div class="container">
            <div class="row">
                  <div class="span7">
                      <h1>Versionskontrolle mit Git über SSH</h1>
                  </div>
                  <div class="span1">&nbsp;
                  </div>
                  <div class="span4">
                    <img alt src="../img/gitlogo.png" width="300" height="150" />
                  </div>
                </div>
          </div>
        </div>

        <div id="content">
          <div class="container">
            <div class="row">
<div class="span6">
<h2 id="git">Git</h2>
<p><a href="http://git-scm.com/">Git</a> ist ein verteiltes Versionskontrollsystem das ich in vielen Lehrveranstaltung für die Abgabe von Aufgaben verwende.</p>
<p>Um Git zu nutzen brauchen Sie eine Git-Installation auf dem von Ihnen verwendeten Rechner. Unter <a href="http://git-scm.com/downloads" class="uri">http://git-scm.com/downloads</a> können Sie Git und verschiedene GUIs herunterladen. Unter Windows empfiehlt sich die Verwendung von <a href="http://msysgit.github.io/" class="uri">http://msysgit.github.io/</a>. Ein nettes und kostenfreies Git-GUI für Windows und Mac ist <a href="http://www.sourcetreeapp.com/">SourceTree</a>. <a href="http://www.syntevo.com/smartgit/">SmartGit</a> ist ähnlich, auch kostenfrei und läuft zudem auch unter Linux.</p>
<h2 id="ressourcen">Ressourcen</h2>
<p>Einen umfassenden Überblick über Git bietet das <a href="http://git-scm.com/book/de">Pro Git-Buch</a>. Einen guten Einstieg bieten außerdem die <a href="https://www.atlassian.com/de/git">Git-Tutorials</a> von Atlassian. Um zu testen ob Sie sich schon gut in Git auskennen, gibt es ein nettes <a href="http://pcottle.github.io/learnGitBranching/">Git-Spiel</a>.</p>
<h2 id="dos-and-donts">Dos and Don’ts</h2>
<p>Beachten Sie folgendes beim Arbeiten mit Git, insbesondere für Repos auf ob.cs.hm.edu.</p>
<h3 id="zu-allererst-die-eigene-identität">Zu Allererst: Die eigene Identität</h3>
<p>Nach der Installation von Git und <strong>vor</strong> dem Start mit Git stellen Sie sicher, dass Git Ihren korrekten Namen und Ihre korrekte E-Mail-Adresse kennt. Geben Sie dazu folgendes so ein, dass Sie <code>MEIN NAME</code> und <code>MEINE E-MAIL-ADRESSE</code> durch Ihren Namen und Ihre E-Mail-Adresse ersetzen:</p>
<pre><code>git config --global user.name &quot;MEIN NAME&quot;
git config --global user.email &quot;MEINE E-MAIL-ADRESSE&quot;</code></pre>
<p><strong>Keine Commits unter Pseudonymen.</strong></p>
<h3 id="committen-sie-sourcecode">Committen Sie Sourcecode</h3>
<p><strong>und keine Artefakte die generiert werden können (Objektdateien, API-Dokumentation, …)</strong>. Fügen Sie stattdessen eine Datei <code>README.txt</code> hinzu in der steht <strong>wie</strong> die Artefakte erzeugt werden können (z.B. compilieren mit <code>ghc</code> oder generieren mit <code>javadoc</code>).</p>
<p>Damit Sie nichts aus Versehen committen, verwenden Sie eine <code>.gitignore</code>-Datei. In dieses steht alles was von Git ignoriert werden soll. Verschiedene <code>.gitignore</code>-Dateien finden Sie auf <a href="https://github.com/github/gitignore">GitHub</a>.</p>
<h3 id="committen-sie-oft-und-logische-kleine-häppchen-mit-vernünftigen-messages">Committen Sie oft und logische, kleine Häppchen mit vernünftigen Messages</h3>
<p>Ein Versionskontrollsystem wie Git kann seine Stärken insbesondere dann ausspielen, wenn Sie kleine Commits machen <strong>und</strong> eine vernünftige Commit-Message angeben.</p>
<p>Mit einer Commit-Message <em>“Nächster Commit”</em> können Sie später wenig anfangen. Auch ist ein Commit in dem Sie 500 Zeilen in 50 Dateien verändert haben nicht wirklich hilfreich und übersichtlich.</p>
<p>Kleine Commits haben einige Vorteile:</p>
<ul>
<li><p>Die Entwicklungshistorie ist sichtbar. Wann wurde was eingefügt, weg genommen, geändert, ….</p></li>
<li><p>Mit dem Kommando <code>git blame</code> können Sie sich für jede Zeile anzeigen lassen, mit welchem Commit die letzte Änderung committet wurde.</p></li>
<li><p>Mit dem Kommando <code>git bisect</code> können Sie den Commit suchen der einen Bug eingefügt hat.</p></li>
</ul>
<p>Insbesondere wenn ich bei kleinen Gruppen die Mitglieder einzeln bewerten muss, ist es wichtig für mich über die Commits zuzuordnen wer was gemacht hat.</p>
<h3 id="pushen-sie-nur-code-der-compilierbar-und-ausführbar-ist">Pushen Sie nur Code der compilierbar und ausführbar ist</h3>
<p>Gerade wenn Sie zusammen arbeiten, gibt es nichts Blöderes als erstmal die Fehler der/des Anderen verbessern zu müssen, bevor Sie an Ihrem eigenen Code weiter arbeiten können.</p>
<p>Verwenden Sie Branches um herumzuexperimentieren.</p>
<h3 id="schauen-sie-sich-genau-an-was-sie-committen">Schauen Sie sich genau an was Sie committen</h3>
<p>Mit <code>git add --patch</code> können Sie interaktiv einzelne Teile “stagen”, d.h. zum nächsten, geplanten Commit hinzufügen. Neue Dateien müssen Sie explizit mit <code>git add</code> hinzügen. Wenn Sie damit fertig sind, zeigt Ihnen <code>git diff --cached</code> noch einmal alles was Sie committen wollen an. Wenn Sie damit zufrieden sind, können Sie das dann einfach committen.</p>
<p>Tipp: Die Verwendung eines GUIs für Git hilft Ihnen dabei auch.</p>
<p>Und nochmal (siehe oben): Committen Sie nichts was aus Ihren Sourcen gebaut wird!</p>
<h3 id="nutzen-sie-git-rebase-mit-viel-vorsicht">Nutzen Sie <code>git rebase</code> — mit viel Vorsicht</h3>
<p><code>git rebase</code> ist ein tolles, aber auch gefährliches Feature. Sobald Sie etwas “rebasen” das schon gepusht ist, müssten Sie einen “force push” machen um die Historie auf dem Server zu ändern. Und das kann die Arbeit der/des Anderen verschwinden lassen.</p>
<p>Deshalb: Nur “rebasen” was noch nicht gepusht ist!</p>
<h3 id="löschen-sie-keine-nicht-gemergten-remote-branches">Löschen Sie keine nicht-gemergten Remote Branches</h3>
<p>Ein Branch in Git ist nur ein Pointer auf einen Commit. Wenn Sie ihn löschen und die Commits nicht gemerged haben, wird der Garbage Collector die Commits irgendwann mal löschen. Sie können den Branch <code>obsolete-branch</code> mit dem folgenden Kommando so mergen, dass er erreichbar bleibt, aber nicht von den Commits in den aktuellen Branch übernommen wird:</p>
<pre><code>git merge -s ours --edit obsolete-branch</code></pre>
<p>Vermerken Sie in der Message, dass der <code>obsolete-branch</code> hier gemerged wurde. Wenn Sie noch einmal an seine Commits wollen, können Sie hierher zurück gehen.</p>
</div>
<div class="span6">
<h2 id="git-auf-ob.cs.hm.edu">Git auf ob.cs.hm.edu</h2>
<p>Die Git-Repos auf diesem Server werden mit <a href="http://gitolite.com/">Gitolite</a> verwaltet. Um Zugriff auf ausgewählte Repositories zu bekommen, ist es notwendig, dass Sie sich ein <a href="http://de.wikipedia.org/wiki/Secure_Shell">SSH</a>-Key-Pair generieren und mir den Public Key zukommen lassen. Um den Administrationsaufwand, gerade zu Beginn des Semesters, in einem vernünftigen Rahmen zu halten, werden Sie in einer der ersten Lehrveranstaltung genau erfahren <strong>wie</strong> Sie mir den Schlüssel zur Verfügung stellen müssen.</p>
<p>Wie Sie den Schlüssel am Besten generieren, finden Sie auf der Seite <a href="../misc/ssh.html">SSH-Keys</a>.</p>
<h3 id="erstmal-testing">Erstmal <code>testing</code></h3>
<p>Sobald ich Ihren Schlüssel hinzugefügt habe, können Sie loslegen. Sie haben alle Zugriff auf das <code>testing</code>-Repository mit dem Sie nach Belieben Dinge ausprobieren können.</p>
<p>Clonen Sie dazu das Repository auf der Kommandozeile mit dem Befehl:</p>
<pre><code>git clone ssh://git@ob.cs.hm.edu:8022/testing.git</code></pre>
<p>Die URL besteht dabei aus verschiedenen Bestandteilen:</p>
<ul>
<li><em>ssh</em> ist das zu verwendende Protokoll. Ich biete nur SSH an.</li>
<li><em>git</em> ist der User unter dem Gitolite auf dem Server läuft.</li>
<li><em>ob.cs.hm.edu</em> ist der Servername.</li>
<li><em>8022</em> ist der Port unter dem der SSH-Daemon läuft.</li>
<li><em>testing.git</em> ist der Repository-Name.</li>
</ul>
<p>Wenn das Kommando erfolgreich durch läuft, haben Sie anschließend das <code>testing</code>-Repository in dem aktuellen Verzeichnis.</p>
<h3 id="infos-von-gitolite">Infos von Gitolite</h3>
<p>Die Verwendung von Gitolite mit SSH hat den Vorteil, dass Sie auch verschiedene Informationen abrufen können. Dazu benötigen Sie das <code>ssh</code>-Kommando.</p>
<p>Informationen über Ihre Zugriffsrechte bekommen Sie über</p>
<pre><code>ssh -p 8022 git@ob.cs.hm.edu info</code></pre>
<p>Auch hier finden Sie wieder die Informationen zu Port, Git-User und Servername; nur in einer leicht differierenden Syntax.</p>
<p>Mit diesem Kommando finden Sie insbesondere die Namen— und damit die URLs —Ihrer Repositories heraus und wissen so genau welches Repo Sie clonen bzw. in welches Sie pushen sollen.</p>
<p>Ob ich Ihnen weitere Kommandos zur Verfügung stelle, erfahren Sie jeweils in der Lehrveranstaltung.</p>
<h2 id="feedback-in-den-repositories">Feedback in den Repositories</h2>
<p>Sie bekommen von mir auf Ihre Fragen oder wenn mir etwas auffällt Feedback im <code>feedback</code>-Branch. In diesem Branch können Sie in den Remote-Repositories nichts ändern. Wenn Sie lokal dort etwas committen, können Sie es nicht mehr pushen! Also <strong>nur lesen</strong>! Sie können natürlich etwaige Änderungen, die ich gemacht habe mit <code>git merge</code> in Ihre Branches mergen.</p>
<p>Mit <code>git pull</code> haben Sie den Feedback-Branch automatisch in Ihrem Repository, aber zunächst nur als Remote-Branche (siehe <code>git branch -a</code>).</p>
<p>Starten Sie die Arbeit an Ihrem Projekt <strong>immer</strong> mit den folgenden beiden Kommandos:</p>
<pre><code>git pull
git show-branch origin/feedback</code></pre>
<p>Das zweite Kommando zeigt Ihnen die Commit-Message des neuesten Commits im Feedback-Branch. Sollten Sie den dazu gehörigen Commit noch nicht kennen, wechseln Sie in den Feedback-Branch mit</p>
<pre><code>git checkout feedback</code></pre>
<p>lesen Sie sich mein Feedback durch und wechseln Sie zum Arbeiten wieder in den Master-Branch. Beim ersten Mal wird der lokale Branch <code>feedback</code> automatisch erzeugt und mit <code>origin/feedback</code> verknüpft.</p>
<h2 id="troubleshooting">Troubleshooting</h2>
<p>Bevor Sie sich an mich wenden, weil Sie keinen Zugriff haben, überprüfen Sie bitte folgendes:</p>
<ul>
<li>Hat mein Git-Programm Zugriff auf den zum Public SSH-Key passenden Secret SSH-Key?</li>
<li>Kann ich das <code>testing</code>-Repo clonen?</li>
<li>Welche Zugriffrechte habe ich laut Gitolite?</li>
</ul>
</div>
</div>
<div id="refs" class="references">

</div>
          </div>
        </div>


<!-- Footer start -->
    <div id="copywrite">
      <div class="container">
        <div class="row">
              <div class="span12">
                  <p>&copy; 2016 Oliver Braun | <a href="../impressum.html">Impressum</a>
                  <span class="pull-right">
                      Generated with <a href="http://jaspervdj.be/hakyll">Hakyll</a> on
                      <a href="https://travis-ci.org/obcode/ob.cs.hm.edu">Travic CI</a>,
                      served by
                      <a href="https://github.com/obcode/ob.cs.hm.edu/tree/gh-pages">GitHub Pages</a>
                      | Fork me on
                      <a href="https://github.com/obcode/ob.cs.hm.edu">GitHub</a>
                  </span></p>
              </div>
            </div>
      </div>
    </div>
<!-- Footer end -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/jquery-1.8.3.min.js"><\/script>')</script>
    <script src="../js/bootstrap.min.js"></script>
    </body>
</html>
